import {AnyAction} from 'redux'
import {takeLatest, call, put} from 'redux-saga/effects'
import {appActions, {{camelCase name}}Actions} from '../reducers'
import {showToast} from '../../components'

function* {{camelCase name}}Saga(action: any): IterableIterator<AnyAction> {
  try {
    yield put(appActions.setShowGlobalIndicator(true))
    //  TODO:
  } catch (e) {
    if (e instanceof Error) {
      showToast({type: 'ERROR', message: e.message})
    }
  } finally {
    yield put(appActions.setShowGlobalIndicator(false))
  }
}

export default [takeLatest({{camelCase name}}Actions.getAction.type, {{camelCase name}}Saga)]
